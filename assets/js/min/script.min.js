(function(e,t,n){e.Site={basePath:t.body.getAttribute("data-base-url"),userAgent:navigator.userAgent,platform:navigator.platform};var r=t.documentElement;r.setAttribute("data-useragent",Site.userAgent);r.setAttribute("data-platform",Site.platform);var i={vroom:function(e){e=e||!1;if(e===!1){console.error("Douchebag supplied false arguments");return}this.kickTires(e).lightFires().pedalToTheMetal();return this},pedalToTheMetal:function(){$.get(Site.basePath+"/portfolio.php",this.readyWork);var e="https://api.github.com/users/adamcbrewer/repos?callback=?&type=owner";$.getJSON(e,this.readyGit)},readyWork:function(e){i.work=e.work;i[404]=e[404];i.hazWork=!0;i.checkReadyState()},readyGit:function(e){i.hazGit=!0;i.checkReadyState();i.relax()},checkReadyState:function(){},busy:function(){this.$body.addClass("busy")},relax:function(){this.$body.removeClass("busy")},open:function(e){this.busy();var t=this,n=this.work[e],r="";if(n)r=this.projectTmpl.render(n);else{var i=Math.floor(Math.random()*this[404].length);r=this.fourZeroFourTmpl.render()}this.$detail.html(r);t.$body.addClass("detail-open");imagesLoaded(this.$detail[0],function(){t.relax();t.$detail.find(".project").removeClass("hide")})},close:function(){this.$body.removeClass("detail-open");this.$detail.html("");e.scrollTo(0,0)},kickTires:function(e){this.$body=e.body;this.$detail=e.detail;this.projectTmpl=Hogan.compile(e.projectTmpl);this.fourZeroFourTmpl=Hogan.compile(e.fourZeroFourTmpl);this.hazWork=!1;this.hazGit=!1;return this},lightFires:function(){var e=this.$body;e.on("click",".projectlist-item",function(e){var t=this,n=t.getAttribute("data-project");i.open(n)});e.on("keydown",function(e){var t=e.keyCode;t===27&&i.close()});return this}};Zepto(function(e){i.vroom({body:e("body"),detail:e(".detail"),projectTmpl:e("#tProject").html(),fourZeroFourTmpl:e("#tFourZeroFour").html()})})})(window,document);